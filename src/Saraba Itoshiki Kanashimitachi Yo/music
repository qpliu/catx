% PARTS midi
%% BIN midi all

\header {
    title = "サラバ、愛しき悲しみたちよ"
    composer = "Lyrics:岩里 祐穂  Composition:布袋 寅泰"
}

\include "markup"
\include "chords"
\include "vocal"
\include "vocaltext_lyrics"
\include "vocaltext_midi"
\include "harmony"
\include "lyrics"
\include "guitar1"
\include "guitar1text_lyrics"
\include "guitar1text_midi"
\addQuote "guitar1" \guitarOnePart
\addQuote "lyricsguitar1" \lyricsguitarOneText
\addQuote "midiguitar1" \midiguitarOneText
\include "guitar2"
\include "guitar2text_lyrics"
\include "guitar2text_midi"
\include "keyboard1"
\include "keyboard1text_lyrics"
\include "keyboard1text_midi"
\include "keyboard2"
\include "keyboard2text_lyrics"
\include "keyboard2text_midi"
\include "bass"
\include "drums"
\include "drumstext_lyrics"
\include "drumstext_midi"

layoutmusic = \removeWithTag #'(pageNumber textLyrics) <<
    \new ChordNames \mychords
    \tag #'(allPart) \new Staff \with {
	instrumentName = "Vocal"
	shortInstrumentName = "Vo"
    } <<
	\markupStuff
	\vocalPart
	\vocalLyrics
	\lyricsvocalText
    >>
    \tag #'(allPart) \new Staff \with {
	instrumentName = "Harmony"
	shortInstrumentName = "Ha"
    } <<
	\markupStuff
	\harmonyPart
    >>
    \tag #'(allPart) \new Staff \with {
	instrumentName = "Guitar 1"
	shortInstrumentName = "Gt.1"
    } <<
	\markupStuff
	\clef "treble_8"
	\guitarOnePart
	\lyricsguitarOneText
    >>
    \tag #'(allPart) \new Staff \with {
	instrumentName = "Guitar 2"
	shortInstrumentName = "Gt.2"
    } <<
	\markupStuff
	\clef "treble_8"
	\guitarTwoPart
	\lyricsguitarTwoText
    >>
    \tag #'(allPart) \new Staff \with {
	instrumentName = "Keyboard 1"
	shortInstrumentName = "Keyb.1"
    } <<
	\markupStuff
	\keyboardOnePart
	\lyricskeyboardOneText
    >>
    \tag #'(allPart) \new Staff \with {
	instrumentName = "Keyboard 2"
	shortInstrumentName = "Keyb.2"
    } <<
	\markupStuff
	\keyboardTwoPart
	\lyricskeyboardTwoText
    >>
    \tag #'(allPart) \new Staff \with {
	instrumentName = "Bass"
	shortInstrumentName = "Ba"
    } <<
	\markupStuff
	\clef "bass_8"
	\bassPart
    >>
    \tag #'(allPart) \new DrumStaff \with {
	instrumentName = "Drums"
	shortInstrumentName = "Dr"
	drumStyleTable = #(alist->hash-table myDrumStyleTable)
    } <<
	\markupStuff
	\drumsPart
	\lyricsdrumsText
    >>
>>

midimusic = <<
    \markupStuff
    \tag #'(midiVo rolandMelody) \new Staff = "vocaltext" \midivocalText
    \tag #'(midiVo rolandMelody) \new Staff = "vocal" \vocalPart
    \tag #'(midiVo rolandMelody) \new Staff \with {
	midiInstrument = #"choir aahs"
	midiMinimumVolume = #0
	midiMaximumVolume = #1
    } \harmonyPart
    \tag #'(midiEg rolandBackOne) \new Staff = "guitar1text" \midiguitarOneText
    \tag #'(midiEg rolandBackOne) \new Staff = "guitar1" \guitarOnePart
    \tag #'(midiEg rolandBackOne) \new Staff = "guitar2text" \midiguitarTwoText
    \tag #'(midiEg rolandBackOne) \new Staff = "guitar2" \guitarTwoPart
    \tag #'(midiOne rolandBackTwo) \new Staff = "keyboard1text" \midikeyboardOneText
    \tag #'(midiOne rolandBackTwo) \new Staff = "keyboard1" \keyboardOnePart
    \tag #'(midiOne rolandBackTwo) \new Staff = "keyboard2text" \midikeyboardTwoText
    \tag #'(midiOne rolandBackTwo) \new Staff = "keyboard2" \keyboardTwoPart
    \tag #'(midiEb rolandBass) \new Staff \with {
	midiInstrument = #"electric bass (finger)"
	midiMinimumVolume = #0
	midiMaximumVolume = #.6
    } \bassPart
    \tag #'(midiDr rolandDrums) \new Staff = "drumstext" \mididrumsText
    \tag #'(midiDr rolandDrums) \new DrumStaff = "drums" \with {
	drumPitchTable = #(alist->hash-table midiDrumPitches)
    } \drumsPart
>>
