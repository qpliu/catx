% vocal guitar keyboard1 keyboard2 keyboard3 bass drums
% all
% midi
% roland
% PARTS vocal
% MIDIS midiOne
% ROBOT preview=36.4

\header {
    title = "Otome Sensou"
    composer = "Tika Î±"
}

drumPitchNames.treechime = #'treechime
midiDrumPitches.treechime = c'''
drumPitchNames.tomm = #'himidtom
drumPitchNames.fingersnap = #'handclap

#(define myDrumStyleTable '(
    (crashcymbal    cross    #f          7)
    (hihat          cross    #f          5)
    (openhihat      cross    "open"      5)
    (hightom        default  #f          3)
    (himidtom       default  #f          2)
    (handclap       cross    #f          2)
    (snare          default  #f          1)
    (treechime      xcircle  #f          0)
    (lowtom         default  #f          -1)
    (bassdrum       default  #f          -3)
))

\include "markup"
\include "chords"
\include "vocal"
\include "vocaltext_lyrics"
\include "vocaltext_midi"
\include "chorus"
\include "lyrics"
\include "guitar"
\include "guitartext_lyrics"
\include "guitartext_midi"
\include "keyboard1"
\include "keyboard1text_lyrics"
\include "keyboard1text_midi"
\include "keyboard2"
\include "keyboard2text_lyrics"
\include "keyboard2text_midi"
\include "keyboard3"
\include "keyboard3text_lyrics"
\include "keyboard3text_midi"
\include "bass"
\include "drums"
\include "drumstext_lyrics"
\include "drumstext_midi"

layoutmusic = \removeWithTag #'(xpageNumber textLyrics) <<
    \new ChordNames \mychords
    \tag #'(allPart vocalPart) \new Staff \with {
	instrumentName = "Chorus"
	shortInstrumentName = "Cho"
    } <<
	\markupStuff
	\chorusPart
    >>
    \tag #'(allPart vocalPart) \new Staff \with {
	instrumentName = "Vocal"
	shortInstrumentName = "Vo"
    } <<
	\markupStuff
	\vocalPart
	\tag #'(textLyrics keep) \lyricsvocalText
	\vocalLyrics
    >>
    \tag #'(allPart guitarPart) \new Staff \with {
	instrumentName = "Guitar"
	shortInstrumentName = "Gt"
    } <<
	\markupStuff
	\guitarPart
	\tag #'(textLyrics keep) \lyricsguitarText
    >>
    \tag #'(allPart keyboardOnePart) \new Staff \with {
	instrumentName = "Keyboard 1"
	shortInstrumentName = "Keyb.1"
    } <<
	\markupStuff
	\keyboardOnePart
	\tag #'(textLyrics keep) \lyricskeyboardOneText
    >>
    \tag #'(allPart keyboardTwoPart) \new Staff \with {
	instrumentName = "Keyboard 2"
	shortInstrumentName = "Keyb.2"
    } <<
	\markupStuff
	\keyboardTwoPart
	\tag #'(textLyrics keep) \lyricskeyboardTwoText
    >>
    \tag #'(allPart keyboardThreePart) \new Staff \with {
	instrumentName = "Keyboard 3"
	shortInstrumentName = "Keyb.3"
    } <<
	\markupStuff
	\keyboardThreePart
	\tag #'(textLyrics keep) \lyricskeyboardThreeText
    >>
    \tag #'(allPart bassPart) \new Staff \with {
	instrumentName = "Bass"
	shortInstrumentName = "Ba"
    } <<
	\markupStuff
	\bassPart
    >>
    \tag #'(allPart drumsPart) \new DrumStaff \with {
	instrumentName = "Drums"
	shortInstrumentName = "Dr"
	drumStyleTable = #(alist->hash-table myDrumStyleTable)
    } <<
	\markupStuff
	\drumsPart
	\tag #'(textLyrics keep) \lyricsdrumsText
    >>
>>

midimusicAll = <<
    \markupStuff
    \tag #'(midiOne vocalPart) \new Staff = "vocaltext" \midivocalText
    \tag #'(midiOne vocalPart) \new Staff = "vocal" \vocalPart
    \tag #'(midiOne chorusPart) \new Staff \with {
	midiInstrument = #"choir aahs"
	midiMinimumVolume = #0
	midiMaximumVolume = #.5
    } \chorusPart
    \tag #'(midiOne guitarPart) \new Staff = "guitartext" \midiguitarText
    \tag #'(midiOne guitarPart) \new Staff = "guitar" \guitarPart
    \tag #'(midiOne keyboardOnePart) \new Staff = "keyboard1text" \midikeyboardOneText
    \tag #'(midiOne keyboardOnePart) \new Staff = "keyboard1" \keyboardOnePart
    \tag #'(midiOne keyboardTwoPart) \new Staff = "keyboard2text" \midikeyboardTwoText
    \tag #'(midiOne keyboardTwoPart) \new Staff = "keyboard2" \keyboardTwoPart
    \tag #'(midiOne keyboardThreePart) \new Staff = "keyboard3text" \midikeyboardThreeText
    \tag #'(midiOne keyboardThreePart) \new Staff = "keyboard3" \keyboardThreePart
    \tag #'(midiOne bassPart) \new Staff \with {
	midiInstrument = #"electric bass (finger)"
	midiMinimumVolume = #0
	midiMaximumVolume = #.7
    } \bassPart
    \tag #'(midiOne drumsPart) \new Staff = "drumstext" \mididrumsText
    \tag #'(midiOne drumsPart) \new DrumStaff = "drums" \with {
	drumPitchTable = #(alist->hash-table midiDrumPitches)
    } \drumsPart
>>

midimusic = <<
%    \keepWithTag #'(vocalPart keep) \midimusicAll
%    \keepWithTag #'(chorusPart keep) \midimusicAll
%    \keepWithTag #'(guitarPart keep) \midimusicAll
%    \keepWithTag #'(keyboardOnePart keep) \midimusicAll
%    \keepWithTag #'(keyboardTwoPart keep) \midimusicAll
%    \keepWithTag #'(keyboardThreePart keep) \midimusicAll
%    \keepWithTag #'(bassPart keep) \midimusicAll
%    \keepWithTag #'(drumsPart keep) \midimusicAll
    \midimusicAll
>>

rolandmusic = <<
    \markupStuff
    \new Staff \with {
	midiInstrument = #"acoustic grand"
    } \vocalPart
    \new Staff \with {
	midiInstrument = #"acoustic grand"
    } \chorusPart
    \new Staff \with {
	midiInstrument = #"acoustic bass"
    } \bassPart
    \new Staff \with {
	midiInstrument = #"electric guitar (clean)"
    } \guitarPart
    \new Staff \with {
	midiInstrument = #"tremolo strings"
    } \keyboardOnePart
    \new DrumStaff \with {
	drumPitchTable = #(alist->hash-table midiDrumPitches)
    } \drumsPart
>>
